---
- name: install packages
  become: yes
  package:
    name: "{{ item }}"
    state: present
  loop: "{{ packages }}"

- name: install snaps
  become: yes
  snap:
    name: "{{ item.name }}"
    channel: "{{ item.channel or 'stable' }}"
    classic: "{{ item.classic or false }}"
  loop: "{{ snaps }}"
